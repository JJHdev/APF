
/* Drop Tables */

DROP TABLE IF EXISTS TB_BIZ_FILE;
DROP TABLE IF EXISTS TB_ENT_CO_HIST;
DROP TABLE IF EXISTS TB_ENT_FNNR;
DROP TABLE IF EXISTS TB_ENT_FNNR_ADD;
DROP TABLE IF EXISTS TB_ENT_LWST;
DROP TABLE IF EXISTS TB_ENT_MGMT;
DROP TABLE IF EXISTS TB_ENT_OTHSPT_HST;
DROP TABLE IF EXISTS TB_ENT_PTNT;
DROP TABLE IF EXISTS TB_ENT_RPRSV_HST;
DROP TABLE IF EXISTS TB_ENT_SHRHOLDR;
--DROP TABLE IF EXISTS TB_ENT;
DROP TABLE IF EXISTS TB_FNNR_CODE;




/* Create Tables */

-- 업무첨부파일
CREATE TABLE TB_BIZ_FILE
(
	SN numeric(10) NOT NULL,
	TASK_SE_CD varchar(10),
	DOC_NO varchar(20),
	DTL_DOC_NO varchar(20),
	FILE_SE_CD varchar(3),
	DCMNT_CD varchar(10),
	FILE_PATH varchar(200),
	STRG_FILE_NM varchar(200),
	FILE_NM varchar(200),
	FILE_SZ numeric(14),
	PRCS_STTS_CD varchar(3),
	PRCS_CN varchar(2000),
	DEL_YN char(1),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (SN)
) WITHOUT OIDS;


-- 업체정보
--CREATE TABLE TB_ENT
--(
--	BZENTY_NO varchar(20) NOT NULL,
--	PRIMARY KEY (BZENTY_NO)
--) WITHOUT OIDS;


-- 회사연혁
CREATE TABLE TB_ENT_CO_HIST
(
	BZENTY_NO varchar(20) NOT NULL,
	SN numeric(10) NOT NULL,
	BGNG_YMD varchar(8),
	END_YMD varchar(8),
	CN varchar(4000),
	RMRK varchar(1000),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, SN)
) WITHOUT OIDS;


-- 재무정보
CREATE TABLE TB_ENT_FNNR
(
	BZENTY_NO varchar(20) NOT NULL,
	FNNR_ACNT_CD varchar(10) NOT NULL,
	FNNR_YMD varchar(8),
	FNNR_AMT numeric(15),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, FNNR_ACNT_CD)
) WITHOUT OIDS;


-- 추가재무정보
CREATE TABLE TB_ENT_FNNR_ADD
(
	BZENTY_NO varchar(20) NOT NULL,
	SN numeric(10) NOT NULL,
	FNNR_INFO_CN varchar(4000),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, SN)
) WITHOUT OIDS;


-- 소송현황
CREATE TABLE TB_ENT_LWST
(
	BZENTY_NO varchar(20) NOT NULL,
	SN numeric(10) NOT NULL,
	ACUSR_NM varchar(20),
	DFDT_NM varchar(20),
	LWST_CN varchar(200),
	LWST_AMT numeric(15),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, SN)
) WITHOUT OIDS;


-- 경영진정보
CREATE TABLE TB_ENT_MGMT
(
	BZENTY_NO varchar(20) NOT NULL,
	SN numeric(10) NOT NULL,
	JBPS_NM varchar(20),
	FLNM varchar(20),
	AGE numeric(3),
	CAREER_CN varchar(300),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, SN)
) WITHOUT OIDS;


-- 정부기타지원이력
CREATE TABLE TB_ENT_OTHSPT_HST
(
	BZENTY_NO varchar(20) NOT NULL,
	SN numeric(10) NOT NULL,
	BIZ_NM varchar(100),
	INST_NM varchar(100),
	FLD_CN varchar(4000),
	DTL_CN varchar(4000),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, SN)
) WITHOUT OIDS;


-- 특허상표권현황
CREATE TABLE TB_ENT_PTNT
(
	BZENTY_NO varchar(20) NOT NULL,
	SN numeric(10) NOT NULL,
	SE_CD varchar(3),
	APPLNM varchar(20),
	PATNTRT_MAN varchar(20),
	NM varchar(100),
	ILLT_REG_NO varchar(20),
	PATENT_REG_YMD varchar(8),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, SN)
) WITHOUT OIDS;


-- 대표자이력
CREATE TABLE TB_ENT_RPRSV_HST
(
	BZENTY_NO varchar(20) NOT NULL,
	SN numeric(10) NOT NULL,
	BGNG_YMD varchar(8),
	END_YMD varchar(8),
	HSTRY_CN varchar(300),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, SN)
) WITHOUT OIDS;


-- 주주현황
CREATE TABLE TB_ENT_SHRHOLDR
(
	BZENTY_NO varchar(20) NOT NULL,
	SN numeric(10) NOT NULL,
	FLNM varchar(20),
	INVT_AMT numeric(15),
	QOTA_RT numeric(5,2),
	REL_CN varchar(300),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (BZENTY_NO, SN)
) WITHOUT OIDS;


-- 재무계정코드
CREATE TABLE TB_FNNR_CODE
(
	FNNR_ACNT_CD varchar(10) NOT NULL,
	UP_FNNR_ACNT_CD varchar(10),
	FNNR_SE_CD varchar(3),
	FNNR_ACNT_NM varchar(100),
	UNIT varchar(20),
	RGTR_NO varchar(20),
	REG_YMD timestamp,
	MDFR_NO varchar(20),
	MDFCN_YMD timestamp,
	PRIMARY KEY (FNNR_ACNT_CD)
) WITHOUT OIDS;



/* Create Foreign Keys */

ALTER TABLE TB_ENT_CO_HIST
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_FNNR
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_FNNR_ADD
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_LWST
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_MGMT
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_OTHSPT_HST
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_PTNT
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_RPRSV_HST
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_SHRHOLDR
	ADD FOREIGN KEY (BZENTY_NO)
	REFERENCES TB_ENT (BZENTY_NO)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;


ALTER TABLE TB_ENT_FNNR
	ADD FOREIGN KEY (FNNR_ACNT_CD)
	REFERENCES TB_FNNR_CODE (FNNR_ACNT_CD)
	ON UPDATE RESTRICT
	ON DELETE RESTRICT
;



/* Comments */

COMMENT ON TABLE TB_BIZ_FILE IS '업무첨부파일';
COMMENT ON COLUMN TB_BIZ_FILE.SN IS '일련번호';
COMMENT ON COLUMN TB_BIZ_FILE.TASK_SE_CD IS '업무구분코드';
COMMENT ON COLUMN TB_BIZ_FILE.DOC_NO IS '문서번호';
COMMENT ON COLUMN TB_BIZ_FILE.DTL_DOC_NO IS '세부문서번호';
COMMENT ON COLUMN TB_BIZ_FILE.FILE_SE_CD IS '파일구분코드';
COMMENT ON COLUMN TB_BIZ_FILE.DCMNT_CD IS '서류코드';
COMMENT ON COLUMN TB_BIZ_FILE.FILE_PATH IS '파일경로';
COMMENT ON COLUMN TB_BIZ_FILE.STRG_FILE_NM IS '저장파일명';
COMMENT ON COLUMN TB_BIZ_FILE.FILE_NM IS '파일명';
COMMENT ON COLUMN TB_BIZ_FILE.FILE_SZ IS '파일크기';
COMMENT ON COLUMN TB_BIZ_FILE.PRCS_STTS_CD IS '처리상태코드';
COMMENT ON COLUMN TB_BIZ_FILE.PRCS_CN IS '처리내용';
COMMENT ON COLUMN TB_BIZ_FILE.DEL_YN IS '삭제여부';
COMMENT ON COLUMN TB_BIZ_FILE.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_BIZ_FILE.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_BIZ_FILE.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_BIZ_FILE.MDFCN_YMD IS '수정일자';
--COMMENT ON TABLE TB_ENT IS '업체정보';
--COMMENT ON COLUMN TB_ENT.BZENTY_NO IS '업체번호';
COMMENT ON TABLE TB_ENT_CO_HIST IS '회사연혁';
COMMENT ON COLUMN TB_ENT_CO_HIST.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_CO_HIST.SN IS '일련번호';
COMMENT ON COLUMN TB_ENT_CO_HIST.BGNG_YMD IS '시작일자';
COMMENT ON COLUMN TB_ENT_CO_HIST.END_YMD IS '종료일자';
COMMENT ON COLUMN TB_ENT_CO_HIST.CN IS '내용';
COMMENT ON COLUMN TB_ENT_CO_HIST.RMRK IS '비고';
COMMENT ON COLUMN TB_ENT_CO_HIST.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_CO_HIST.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_CO_HIST.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_CO_HIST.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_ENT_FNNR IS '재무정보';
COMMENT ON COLUMN TB_ENT_FNNR.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_FNNR.FNNR_ACNT_CD IS '재무계정코드';
COMMENT ON COLUMN TB_ENT_FNNR.FNNR_YMD IS '재무일자';
COMMENT ON COLUMN TB_ENT_FNNR.FNNR_AMT IS '재무금액';
COMMENT ON COLUMN TB_ENT_FNNR.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_FNNR.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_FNNR.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_FNNR.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_ENT_FNNR_ADD IS '추가재무정보';
COMMENT ON COLUMN TB_ENT_FNNR_ADD.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_FNNR_ADD.SN IS '일련번호';
COMMENT ON COLUMN TB_ENT_FNNR_ADD.FNNR_INFO_CN IS '재무정보내용';
COMMENT ON COLUMN TB_ENT_FNNR_ADD.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_FNNR_ADD.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_FNNR_ADD.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_FNNR_ADD.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_ENT_LWST IS '소송현황';
COMMENT ON COLUMN TB_ENT_LWST.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_LWST.SN IS '일련번호';
COMMENT ON COLUMN TB_ENT_LWST.ACUSR_NM IS '원고명';
COMMENT ON COLUMN TB_ENT_LWST.DFDT_NM IS '피고명';
COMMENT ON COLUMN TB_ENT_LWST.LWST_CN IS '소송내용';
COMMENT ON COLUMN TB_ENT_LWST.LWST_AMT IS '소송금액';
COMMENT ON COLUMN TB_ENT_LWST.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_LWST.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_LWST.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_LWST.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_ENT_MGMT IS '경영진정보';
COMMENT ON COLUMN TB_ENT_MGMT.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_MGMT.SN IS '일련번호';
COMMENT ON COLUMN TB_ENT_MGMT.JBPS_NM IS '직위명';
COMMENT ON COLUMN TB_ENT_MGMT.FLNM IS '성명';
COMMENT ON COLUMN TB_ENT_MGMT.AGE IS '연령';
COMMENT ON COLUMN TB_ENT_MGMT.CAREER_CN IS '경력내용';
COMMENT ON COLUMN TB_ENT_MGMT.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_MGMT.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_MGMT.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_MGMT.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_ENT_OTHSPT_HST IS '정부기타지원이력';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.SN IS '일련번호';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.BIZ_NM IS '사업명';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.INST_NM IS '기관명';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.FLD_CN IS '분야내용';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.DTL_CN IS '세부내용';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_OTHSPT_HST.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_ENT_PTNT IS '특허상표권현황';
COMMENT ON COLUMN TB_ENT_PTNT.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_PTNT.SN IS '일련번호';
COMMENT ON COLUMN TB_ENT_PTNT.SE_CD IS '구분코드';
COMMENT ON COLUMN TB_ENT_PTNT.APPLNM IS '출원인';
COMMENT ON COLUMN TB_ENT_PTNT.PATNTRT_MAN IS '특허권자';
COMMENT ON COLUMN TB_ENT_PTNT.NM IS '명칭';
COMMENT ON COLUMN TB_ENT_PTNT.ILLT_REG_NO IS '지적재산권등록번호';
COMMENT ON COLUMN TB_ENT_PTNT.PATENT_REG_YMD IS '특허등록일자';
COMMENT ON COLUMN TB_ENT_PTNT.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_PTNT.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_PTNT.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_PTNT.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_ENT_RPRSV_HST IS '대표자이력';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.SN IS '일련번호';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.BGNG_YMD IS '시작일자';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.END_YMD IS '종료일자';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.HSTRY_CN IS '이력내용';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_RPRSV_HST.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_ENT_SHRHOLDR IS '주주현황';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.BZENTY_NO IS '업체번호';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.SN IS '일련번호';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.FLNM IS '성명';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.INVT_AMT IS '투자금액';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.QOTA_RT IS '지분율';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.REL_CN IS '관계내용';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_ENT_SHRHOLDR.MDFCN_YMD IS '수정일자';
COMMENT ON TABLE TB_FNNR_CODE IS '재무계정코드';
COMMENT ON COLUMN TB_FNNR_CODE.FNNR_ACNT_CD IS '재무계정코드';
COMMENT ON COLUMN TB_FNNR_CODE.UP_FNNR_ACNT_CD IS '상위재무계정코드';
COMMENT ON COLUMN TB_FNNR_CODE.FNNR_SE_CD IS '재무구분코드';
COMMENT ON COLUMN TB_FNNR_CODE.FNNR_ACNT_NM IS '재무계정명';
COMMENT ON COLUMN TB_FNNR_CODE.UNIT IS '단위';
COMMENT ON COLUMN TB_FNNR_CODE.RGTR_NO IS '등록자번호';
COMMENT ON COLUMN TB_FNNR_CODE.REG_YMD IS '등록일자';
COMMENT ON COLUMN TB_FNNR_CODE.MDFR_NO IS '수정자번호';
COMMENT ON COLUMN TB_FNNR_CODE.MDFCN_YMD IS '수정일자';



